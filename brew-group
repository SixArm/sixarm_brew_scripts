
# brew-group: set the brew group name and permissions
#
# Syntax:
#
#     brew-group [group] [path]
#
# Options:
#
#   * group: default is "admin"
#   * path: default is "/usr/local"
#
# Example:
#
#     brew-group
#     brew-group admin
#     brew-group admin /usr/local
#
#
# ## Details
#
# Homebrew expects to manage all of the `/usr/local` directory.
# If any other tool or script changes anything within `/usr/local`,
# then Homebrew may be affected, and may prompt you to fix things.
#
# For single-user systems, brew docs recommend commands such as:
#
#     chown $USER /usr/local
#     chmod 755 /usr/local
#
# For multi-user systems like ours, we modify the group, not the user:
#
#     chgrp admin /usr/local
#     chmod 775 /usr/local
#
# ## Group details
#
# We use the "admin" group, which is a default administrator group on OS X.
#
# If you have a multi-user system and you want any staff to be able to use
# brew, then you'll likely want to use the typical "staff" group on OS X.
#
# If you want better security, or want to control exactly which users are
# able to use brew, then you may want to create a "brew" group with users.
##

group=${1:-"admin"}
path=${2:="/usr/local"}

sudo touch "$path"
sudo chgrp -R "$group" "$path"
sudo find "$path" -type d -exec chmod g+rwx {} \;
